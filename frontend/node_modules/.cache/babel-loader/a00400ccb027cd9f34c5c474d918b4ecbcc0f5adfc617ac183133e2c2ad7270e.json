{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\streamframe-task-manager\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport './App.css';\nimport TaskFormPage from './pages/TaskFormPage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Function to render tasks recursively\nconst RenderTasks = ({\n  tasks,\n  toggleTaskStatus\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"task-list\",\n  children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"task-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Task \", task.name, \" (ID: \", task.id, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }, this), \" - Status: \", task.status, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-counts\",\n        children: [\"Dependencies: \", task.dependencyCount || 0, \" | Done: \", task.doneCount || 0, \" | Complete: \", task.completeCount || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"task-checkbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: task.status === 'DONE' || task.status === 'COMPLETE',\n          onChange: () => toggleTaskStatus(task)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this), task.status === 'DONE' || task.status === 'COMPLETE' ? ' Mark as IN PROGRESS' : ' Mark as DONE']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), task.children.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"child-tasks\",\n      children: /*#__PURE__*/_jsxDEV(RenderTasks, {\n        tasks: task.children,\n        toggleTaskStatus: toggleTaskStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this)]\n  }, task.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 7\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 3\n}, this);\n_c = RenderTasks;\nconst TaskList = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [filter, setFilter] = useState('ALL');\n  const [editingTaskId, setEditingTaskId] = useState(null);\n  const [newTaskName, setNewTaskName] = useState('');\n  const fetchTasks = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:5000/tasks');\n      if (!response.ok) {\n        throw new Error('Failed to fetch tasks');\n      }\n      const data = await response.json();\n      const tasksWithDependencies = await Promise.all(data.map(async task => {\n        const dependencyCount = await fetchDependencyCount(task.id);\n        const doneCount = await fetchDoneCount(task.id);\n        const completeCount = await fetchCompleteCount(task.id);\n        return {\n          ...task,\n          dependencyCount,\n          doneCount,\n          completeCount,\n          children: []\n        };\n      }));\n      setTasks(tasksWithDependencies);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }, []);\n  const fetchDependencyCount = async taskId => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/dependencies`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch dependency count');\n      }\n      const data = await response.json();\n      return data.dependencyCount || 0;\n    } catch (error) {\n      console.error('Error fetching dependency count:', error);\n      return 0;\n    }\n  };\n  const fetchDoneCount = async taskId => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/done-count`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch DONE count');\n      }\n      const data = await response.json();\n      return data.doneCount || 0;\n    } catch (error) {\n      console.error('Error fetching DONE count:', error);\n      return 0;\n    }\n  };\n  const fetchCompleteCount = async taskId => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/complete-count`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch COMPLETE count');\n      }\n      const data = await response.json();\n      return data.completeCount || 0;\n    } catch (error) {\n      console.error('Error fetching COMPLETE count:', error);\n      return 0;\n    }\n  };\n  const toggleTaskStatus = async task => {\n    let updatedStatus;\n    const children = tasks.filter(t => t.parent_task_id === task.id);\n    if (children.length === 0) {\n      updatedStatus = task.status === 'COMPLETE' ? 'IN_PROGRESS' : 'COMPLETE';\n    } else {\n      const allComplete = children.every(child => child.status === 'COMPLETE');\n      const someInProgress = children.some(child => child.status === 'IN_PROGRESS');\n      if (task.status === 'COMPLETE') {\n        updatedStatus = 'IN_PROGRESS';\n      } else if (someInProgress) {\n        updatedStatus = 'DONE';\n      } else {\n        updatedStatus = 'COMPLETE';\n      }\n    }\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${task.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...task,\n          status: updatedStatus\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update task status');\n      }\n      setTasks(prevTasks => prevTasks.map(t => {\n        if (t.id === task.id) {\n          return {\n            ...t,\n            status: updatedStatus\n          };\n        }\n        return t;\n      }));\n      const parentId = task.parent_task_id;\n      if (parentId) {\n        const siblings = tasks.filter(t => t.parent_task_id === parentId);\n        const allComplete = siblings.every(sibling => sibling.status === 'COMPLETE');\n        if (allComplete) {\n          await fetch(`http://localhost:5000/tasks/${parentId}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              status: 'COMPLETE'\n            })\n          });\n          setTasks(prevTasks => prevTasks.map(t => {\n            if (t.id === parentId) {\n              return {\n                ...t,\n                status: 'COMPLETE'\n              };\n            }\n            return t;\n          }));\n        }\n      }\n      window.location.reload();\n    } catch (error) {\n      console.error('Error updating task status:', error);\n      alert('Failed to update task status. Please try again.');\n    }\n  };\n  const handleEditTask = task => {\n    setEditingTaskId(task.id);\n    setNewTaskName(task.name);\n  };\n  const handleSaveEdit = async () => {\n    if (editingTaskId !== null) {\n      try {\n        const response = await fetch(`http://localhost:5000/tasks/${editingTaskId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            ...tasks.find(t => t.id === editingTaskId),\n            name: newTaskName\n          })\n        });\n        if (!response.ok) {\n          throw new Error('Failed to update task name');\n        }\n        setTasks(prevTasks => prevTasks.map(t => t.id === editingTaskId ? {\n          ...t,\n          name: newTaskName\n        } : t));\n        setEditingTaskId(null);\n        setNewTaskName('');\n      } catch (error) {\n        console.error('Error updating task name:', error);\n        alert('Failed to update task name. Please try again.');\n      }\n    }\n  };\n  const filteredTasks = tasks.filter(task => {\n    if (filter === 'ALL') return true;\n    if (filter === 'IN_PROGRESS') return task.status === 'IN_PROGRESS' || tasks.some(t => t.parent_task_id === task.id && t.status === 'IN_PROGRESS');\n    if (filter === 'DONE') return task.status === 'DONE' || tasks.some(t => t.parent_task_id === task.id && t.status === 'DONE');\n    if (filter === 'COMPLETE') return task.status === 'COMPLETE' || tasks.some(t => t.parent_task_id === task.id && t.status === 'COMPLETE');\n    return false;\n  });\n\n  // Function to build a nested structure\n  const buildTaskHierarchy = tasks => {\n    const taskMap = {};\n    const hierarchy = [];\n    tasks.forEach(task => {\n      taskMap[task.id] = {\n        ...task,\n        children: []\n      };\n    });\n    tasks.forEach(task => {\n      if (task.parent_task_id === null) {\n        hierarchy.push(taskMap[task.id]);\n      } else {\n        var _taskMap$task$parent_;\n        (_taskMap$task$parent_ = taskMap[task.parent_task_id]) === null || _taskMap$task$parent_ === void 0 ? void 0 : _taskMap$task$parent_.children.push(taskMap[task.id]);\n      }\n    });\n    return hierarchy;\n  };\n  const taskHierarchy = buildTaskHierarchy(filteredTasks);\n  useEffect(() => {\n    fetchTasks();\n  }, [fetchTasks]); // Include fetchTasks in dependency array\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"task-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Task Listing\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Filter by status:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filter,\n        onChange: e => setFilter(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"ALL\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"IN_PROGRESS\",\n          children: \"IN PROGRESS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"DONE\",\n          children: \"DONE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"COMPLETE\",\n          children: \"COMPLETE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-list\",\n      children: taskHierarchy.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task-header\",\n          children: editingTaskId === task.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newTaskName,\n              onChange: e => setNewTaskName(e.target.value),\n              placeholder: \"New task name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveEdit,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setEditingTaskId(null),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Task \", task.name, \" (ID: \", task.id, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this), \" - Status: \", task.status, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-counts\",\n              children: [\"Dependencies: \", task.dependencyCount || 0, \" | Done: \", task.doneCount || 0, \" | Complete: \", task.completeCount || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"task-checkbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: task.status === 'DONE' || task.status === 'COMPLETE',\n                onChange: () => toggleTaskStatus(task)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this), task.status === 'DONE' || task.status === 'COMPLETE' ? ' Mark as IN PROGRESS' : ' Mark as DONE']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditTask(task),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), task.children.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"child-tasks\",\n          children: /*#__PURE__*/_jsxDEV(RenderTasks, {\n            tasks: task.children,\n            toggleTaskStatus: toggleTaskStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskList, \"Hp3o5IQb2eutozFZMXRQR4Z0WMc=\");\n_c2 = TaskList;\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sidebar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Task List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/new-task\",\n              children: \"Add New Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(TaskList, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/new-task\",\n            element: /*#__PURE__*/_jsxDEV(TaskFormPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n};\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"RenderTasks\");\n$RefreshReg$(_c2, \"TaskList\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","BrowserRouter","Router","Route","Routes","Link","TaskFormPage","jsxDEV","_jsxDEV","Fragment","_Fragment","RenderTasks","tasks","toggleTaskStatus","className","children","map","task","name","id","fileName","_jsxFileName","lineNumber","columnNumber","status","dependencyCount","doneCount","completeCount","type","checked","onChange","length","_c","TaskList","_s","setTasks","filter","setFilter","editingTaskId","setEditingTaskId","newTaskName","setNewTaskName","fetchTasks","response","fetch","ok","Error","data","json","tasksWithDependencies","Promise","all","fetchDependencyCount","fetchDoneCount","fetchCompleteCount","error","console","taskId","updatedStatus","t","parent_task_id","allComplete","every","child","someInProgress","some","method","headers","body","JSON","stringify","prevTasks","parentId","siblings","sibling","window","location","reload","alert","handleEditTask","handleSaveEdit","find","filteredTasks","buildTaskHierarchy","taskMap","hierarchy","forEach","push","_taskMap$task$parent_","taskHierarchy","value","e","target","placeholder","onClick","_c2","App","to","path","element","_c3","$RefreshReg$"],"sources":["C:/Users/Acer/streamframe-task-manager/frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport './App.css';\nimport TaskFormPage from './pages/TaskFormPage';\n\ninterface Task {\n  id: number;\n  name: string;\n  status: 'IN_PROGRESS' | 'DONE' | 'COMPLETE';\n  parent_task_id: number | null;\n  dependencyCount?: number;\n  doneCount?: number;\n  completeCount?: number;\n  children: Task[]; // Ensure children is always initialized as an array\n}\n\n// Function to render tasks recursively\nconst RenderTasks = ({ tasks, toggleTaskStatus }: { tasks: Task[]; toggleTaskStatus: (task: Task) => void }) => (\n  <div className=\"task-list\">\n    {tasks.map(task => (\n      <div key={task.id} className=\"task-item\">\n        <div className=\"task-header\">\n          <strong>Task {task.name} (ID: {task.id})</strong> - Status: {task.status}\n          <div className=\"task-counts\">\n            Dependencies: {task.dependencyCount || 0} | Done: {task.doneCount || 0} | Complete: {task.completeCount || 0}\n          </div>\n          <label className=\"task-checkbox\">\n            <input\n              type=\"checkbox\"\n              checked={task.status === 'DONE' || task.status === 'COMPLETE'}\n              onChange={() => toggleTaskStatus(task)}\n            />\n            {task.status === 'DONE' || task.status === 'COMPLETE' ? ' Mark as IN PROGRESS' : ' Mark as DONE'}\n          </label>\n        </div>\n        {task.children.length > 0 && (\n          <div className=\"child-tasks\">\n            <RenderTasks tasks={task.children} toggleTaskStatus={toggleTaskStatus} />\n          </div>\n        )}\n      </div>\n    ))}\n  </div>\n);\n\nconst TaskList: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [filter, setFilter] = useState<'ALL' | 'IN_PROGRESS' | 'DONE' | 'COMPLETE'>('ALL');\n  const [editingTaskId, setEditingTaskId] = useState<number | null>(null);\n  const [newTaskName, setNewTaskName] = useState<string>('');\n\n  const fetchTasks = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:5000/tasks');\n      if (!response.ok) {\n        throw new Error('Failed to fetch tasks');\n      }\n      const data: Task[] = await response.json();\n\n      const tasksWithDependencies = await Promise.all(\n        data.map(async (task) => {\n          const dependencyCount = await fetchDependencyCount(task.id);\n          const doneCount = await fetchDoneCount(task.id);\n          const completeCount = await fetchCompleteCount(task.id);\n          return { ...task, dependencyCount, doneCount, completeCount, children: [] };\n        })\n      );\n\n      setTasks(tasksWithDependencies);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }, []);\n\n  const fetchDependencyCount = async (taskId: number) => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/dependencies`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch dependency count');\n      }\n      const data = await response.json();\n      return data.dependencyCount || 0;\n    } catch (error) {\n      console.error('Error fetching dependency count:', error);\n      return 0;\n    }\n  };\n\n  const fetchDoneCount = async (taskId: number) => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/done-count`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch DONE count');\n      }\n      const data = await response.json();\n      return data.doneCount || 0;\n    } catch (error) {\n      console.error('Error fetching DONE count:', error);\n      return 0;\n    }\n  };\n\n  const fetchCompleteCount = async (taskId: number) => {\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${taskId}/complete-count`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch COMPLETE count');\n      }\n      const data = await response.json();\n      return data.completeCount || 0;\n    } catch (error) {\n      console.error('Error fetching COMPLETE count:', error);\n      return 0;\n    }\n  };\n\n  const toggleTaskStatus = async (task: Task) => {\n    let updatedStatus: 'IN_PROGRESS' | 'DONE' | 'COMPLETE';\n\n    const children = tasks.filter(t => t.parent_task_id === task.id);\n\n    if (children.length === 0) {\n      updatedStatus = task.status === 'COMPLETE' ? 'IN_PROGRESS' : 'COMPLETE';\n    } else {\n      const allComplete = children.every(child => child.status === 'COMPLETE');\n      const someInProgress = children.some(child => child.status === 'IN_PROGRESS');\n\n      if (task.status === 'COMPLETE') {\n        updatedStatus = 'IN_PROGRESS';\n      } else if (someInProgress) {\n        updatedStatus = 'DONE';\n      } else {\n        updatedStatus = 'COMPLETE';\n      }\n    }\n\n    try {\n      const response = await fetch(`http://localhost:5000/tasks/${task.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ ...task, status: updatedStatus }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update task status');\n      }\n\n      setTasks(prevTasks =>\n        prevTasks.map(t => {\n          if (t.id === task.id) {\n            return { ...t, status: updatedStatus };\n          }\n          return t;\n        })\n      );\n\n      const parentId = task.parent_task_id;\n      if (parentId) {\n        const siblings = tasks.filter(t => t.parent_task_id === parentId);\n        const allComplete = siblings.every(sibling => sibling.status === 'COMPLETE');\n\n        if (allComplete) {\n          await fetch(`http://localhost:5000/tasks/${parentId}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ status: 'COMPLETE' }),\n          });\n\n          setTasks(prevTasks =>\n            prevTasks.map(t => {\n              if (t.id === parentId) {\n                return { ...t, status: 'COMPLETE' };\n              }\n              return t;\n            })\n          );\n        }\n      }\n\n      window.location.reload();\n    } catch (error) {\n      console.error('Error updating task status:', error);\n      alert('Failed to update task status. Please try again.');\n    }\n  };\n\n  const handleEditTask = (task: Task) => {\n    setEditingTaskId(task.id);\n    setNewTaskName(task.name);\n  };\n\n  const handleSaveEdit = async () => {\n    if (editingTaskId !== null) {\n      try {\n        const response = await fetch(`http://localhost:5000/tasks/${editingTaskId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ ...tasks.find(t => t.id === editingTaskId), name: newTaskName }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to update task name');\n        }\n\n        setTasks(prevTasks =>\n          prevTasks.map(t => (t.id === editingTaskId ? { ...t, name: newTaskName } : t))\n        );\n        setEditingTaskId(null);\n        setNewTaskName('');\n      } catch (error) {\n        console.error('Error updating task name:', error);\n        alert('Failed to update task name. Please try again.');\n      }\n    }\n  };\n\n  const filteredTasks = tasks.filter(task => {\n    if (filter === 'ALL') return true;\n    if (filter === 'IN_PROGRESS') return task.status === 'IN_PROGRESS' || tasks.some(t => t.parent_task_id === task.id && t.status === 'IN_PROGRESS');\n    if (filter === 'DONE') return task.status === 'DONE' || tasks.some(t => t.parent_task_id === task.id && t.status === 'DONE');\n    if (filter === 'COMPLETE') return task.status === 'COMPLETE' || tasks.some(t => t.parent_task_id === task.id && t.status === 'COMPLETE');\n    return false;\n  });\n\n  // Function to build a nested structure\n  const buildTaskHierarchy = (tasks: Task[]) => {\n    const taskMap: { [key: number]: Task & { children: Task[] } } = {};\n    const hierarchy: (Task & { children: Task[] })[] = [];\n\n    tasks.forEach(task => {\n      taskMap[task.id] = { ...task, children: [] };\n    });\n\n    tasks.forEach(task => {\n      if (task.parent_task_id === null) {\n        hierarchy.push(taskMap[task.id]);\n      } else {\n        taskMap[task.parent_task_id]?.children.push(taskMap[task.id]);\n      }\n    });\n\n    return hierarchy;\n  };\n\n  const taskHierarchy = buildTaskHierarchy(filteredTasks);\n\n  useEffect(() => {\n    fetchTasks();\n  }, [fetchTasks]); // Include fetchTasks in dependency array\n\n  return (\n    <div className=\"task-list-container\">\n      <h1>Task Listing</h1>\n      <label>\n        Filter by status:\n        <select value={filter} onChange={(e) => setFilter(e.target.value as 'ALL' | 'IN_PROGRESS' | 'DONE' | 'COMPLETE')}>\n          <option value=\"ALL\">All</option>\n          <option value=\"IN_PROGRESS\">IN PROGRESS</option>\n          <option value=\"DONE\">DONE</option>\n          <option value=\"COMPLETE\">COMPLETE</option>\n        </select>\n      </label>\n      <div className=\"task-list\">\n        {taskHierarchy.map(task => (\n          <div key={task.id} className=\"task-item\">\n            <div className=\"task-header\">\n              {editingTaskId === task.id ? (\n                <>\n                  <input\n                    type=\"text\"\n                    value={newTaskName}\n                    onChange={(e) => setNewTaskName(e.target.value)}\n                    placeholder=\"New task name\"\n                  />\n                  <button onClick={handleSaveEdit}>Save</button>\n                  <button onClick={() => setEditingTaskId(null)}>Cancel</button>\n                </>\n              ) : (\n                <>\n                  <strong>Task {task.name} (ID: {task.id})</strong> - Status: {task.status}\n                  <div className=\"task-counts\">\n                    Dependencies: {task.dependencyCount || 0} | Done: {task.doneCount || 0} | Complete: {task.completeCount || 0}\n                  </div>\n                  <label className=\"task-checkbox\">\n                    <input\n                      type=\"checkbox\"\n                      checked={task.status === 'DONE' || task.status === 'COMPLETE'}\n                      onChange={() => toggleTaskStatus(task)}\n                    />\n                    {task.status === 'DONE' || task.status === 'COMPLETE' ? ' Mark as IN PROGRESS' : ' Mark as DONE'}\n                  </label>\n                  <button onClick={() => handleEditTask(task)}>Edit</button>\n                </>\n              )}\n            </div>\n            {task.children.length > 0 && (\n              <div className=\"child-tasks\">\n                {/* Assuming RenderTasks is another component to display child tasks */}\n                <RenderTasks tasks={task.children} toggleTaskStatus={toggleTaskStatus} />\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <div className=\"app-container\">\n        <div className=\"sidebar\">\n          <h2>Sidebar</h2>\n          <ul>\n            <li><Link to=\"/\">Task List</Link></li>\n            <li><Link to=\"/new-task\">Add New Task</Link></li>\n          </ul>\n        </div>\n        <div className=\"main-content\">\n          <Routes>\n            <Route path=\"/\" element={<TaskList />} />\n            <Route path=\"/new-task\" element={<TaskFormPage />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}